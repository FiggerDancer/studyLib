<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.66">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/studyLib/assets/icon.jpeg"><title>Vue | 学习资源库</title><meta name="description" content="一个用于学习的 VuePress 站点">
    <link rel="preload" href="/studyLib/assets/style-97653313.css" as="style"><link rel="stylesheet" href="/studyLib/assets/style-97653313.css">
    <link rel="modulepreload" href="/studyLib/assets/app-72993491.js"><link rel="modulepreload" href="/studyLib/assets/004Vue.html-e1a4995f.js"><link rel="modulepreload" href="/studyLib/assets/004Vue.html-60dc2bc0.js"><link rel="prefetch" href="/studyLib/assets/index.html-2efa10d1.js" as="script"><link rel="prefetch" href="/studyLib/assets/001offer.html-bac406b1.js" as="script"><link rel="prefetch" href="/studyLib/assets/001Sort.html-befbd5f8.js" as="script"><link rel="prefetch" href="/studyLib/assets/002LinkList.html-d9751673.js" as="script"><link rel="prefetch" href="/studyLib/assets/003BinaryTree.html-7e39dc29.js" as="script"><link rel="prefetch" href="/studyLib/assets/004Graph.html-73dd72b0.js" as="script"><link rel="prefetch" href="/studyLib/assets/005TrieTree.html-fb5bbdee.js" as="script"><link rel="prefetch" href="/studyLib/assets/006Greedy.html-463b0c00.js" as="script"><link rel="prefetch" href="/studyLib/assets/007BruteForceRecursion.html-c32612ce.js" as="script"><link rel="prefetch" href="/studyLib/assets/008Hash.html-dfd72b4a.js" as="script"><link rel="prefetch" href="/studyLib/assets/009DisjointSet.html-c1da4bda.js" as="script"><link rel="prefetch" href="/studyLib/assets/010KMP.html-08dc4939.js" as="script"><link rel="prefetch" href="/studyLib/assets/011Manacher.html-851a418a.js" as="script"><link rel="prefetch" href="/studyLib/assets/012Window.html-35ce89c5.js" as="script"><link rel="prefetch" href="/studyLib/assets/013大数据.html-08dc39af.js" as="script"><link rel="prefetch" href="/studyLib/assets/014位运算.html-7156ded7.js" as="script"><link rel="prefetch" href="/studyLib/assets/015动态规划.html-19b0a341.js" as="script"><link rel="prefetch" href="/studyLib/assets/016有序表.html-bd8c7167.js" as="script"><link rel="prefetch" href="/studyLib/assets/001es.html-61c7fbb3.js" as="script"><link rel="prefetch" href="/studyLib/assets/002lodash.html-2bcf0815.js" as="script"><link rel="prefetch" href="/studyLib/assets/003coding.html-f5926cd9.js" as="script"><link rel="prefetch" href="/studyLib/assets/001打包资源处理.html-24cdc3ab.js" as="script"><link rel="prefetch" href="/studyLib/assets/002webpack配置.html-220baa49.js" as="script"><link rel="prefetch" href="/studyLib/assets/003包管理工具.html-159b64a3.js" as="script"><link rel="prefetch" href="/studyLib/assets/004Bundless.html-ae5a7555.js" as="script"><link rel="prefetch" href="/studyLib/assets/005手写简单webpack.html-2bf49e9b.js" as="script"><link rel="prefetch" href="/studyLib/assets/006模块化方案.html-9a5a76f5.js" as="script"><link rel="prefetch" href="/studyLib/assets/007package和npm.html-8a15325e.js" as="script"><link rel="prefetch" href="/studyLib/assets/008前端质量保障.html-dfab7e01.js" as="script"><link rel="prefetch" href="/studyLib/assets/010rspack.html-19004f0d.js" as="script"><link rel="prefetch" href="/studyLib/assets/001CSS.html-77bdfb21.js" as="script"><link rel="prefetch" href="/studyLib/assets/002Browser.html-fb8c4e1d.js" as="script"><link rel="prefetch" href="/studyLib/assets/003JS.html-6511db18.js" as="script"><link rel="prefetch" href="/studyLib/assets/005React.html-9ec40e07.js" as="script"><link rel="prefetch" href="/studyLib/assets/006工程化.html-4474284b.js" as="script"><link rel="prefetch" href="/studyLib/assets/007Http.html-024ba735.js" as="script"><link rel="prefetch" href="/studyLib/assets/008算法.html-a7f80b9d.js" as="script"><link rel="prefetch" href="/studyLib/assets/011前端调试.html-2653b38b.js" as="script"><link rel="prefetch" href="/studyLib/assets/012装饰器.html-1143f938.js" as="script"><link rel="prefetch" href="/studyLib/assets/997面试题整理.html-30dd7c1f.js" as="script"><link rel="prefetch" href="/studyLib/assets/998HR面.html-4fe89dde.js" as="script"><link rel="prefetch" href="/studyLib/assets/999Other.html-2bafb8e9.js" as="script"><link rel="prefetch" href="/studyLib/assets/001nestjs.html-323234b5.js" as="script"><link rel="prefetch" href="/studyLib/assets/002nestjs装饰器.html-0fb187a0.js" as="script"><link rel="prefetch" href="/studyLib/assets/003nestjs切换上下文.html-97aab697.js" as="script"><link rel="prefetch" href="/studyLib/assets/001React.html-cf1dd876.js" as="script"><link rel="prefetch" href="/studyLib/assets/001Vue.html-fce47e30.js" as="script"><link rel="prefetch" href="/studyLib/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/studyLib/assets/index.html-0c7c69f6.js" as="script"><link rel="prefetch" href="/studyLib/assets/001offer.html-191fdbe5.js" as="script"><link rel="prefetch" href="/studyLib/assets/001Sort.html-280b53df.js" as="script"><link rel="prefetch" href="/studyLib/assets/002LinkList.html-fb9c1719.js" as="script"><link rel="prefetch" href="/studyLib/assets/003BinaryTree.html-9a24013b.js" as="script"><link rel="prefetch" href="/studyLib/assets/004Graph.html-0dad7abb.js" as="script"><link rel="prefetch" href="/studyLib/assets/005TrieTree.html-34ca2d6a.js" as="script"><link rel="prefetch" href="/studyLib/assets/006Greedy.html-78f96504.js" as="script"><link rel="prefetch" href="/studyLib/assets/007BruteForceRecursion.html-b2eb33b2.js" as="script"><link rel="prefetch" href="/studyLib/assets/008Hash.html-244a9c67.js" as="script"><link rel="prefetch" href="/studyLib/assets/009DisjointSet.html-cfc4bfc7.js" as="script"><link rel="prefetch" href="/studyLib/assets/010KMP.html-2398b546.js" as="script"><link rel="prefetch" href="/studyLib/assets/011Manacher.html-4b7ab50b.js" as="script"><link rel="prefetch" href="/studyLib/assets/012Window.html-42f82a81.js" as="script"><link rel="prefetch" href="/studyLib/assets/013大数据.html-0dcbf045.js" as="script"><link rel="prefetch" href="/studyLib/assets/014位运算.html-aa0f7ce8.js" as="script"><link rel="prefetch" href="/studyLib/assets/015动态规划.html-83a6ee15.js" as="script"><link rel="prefetch" href="/studyLib/assets/016有序表.html-7be4c959.js" as="script"><link rel="prefetch" href="/studyLib/assets/001es.html-18faa3ab.js" as="script"><link rel="prefetch" href="/studyLib/assets/002lodash.html-27e15aa1.js" as="script"><link rel="prefetch" href="/studyLib/assets/003coding.html-472500dc.js" as="script"><link rel="prefetch" href="/studyLib/assets/001打包资源处理.html-079090a7.js" as="script"><link rel="prefetch" href="/studyLib/assets/002webpack配置.html-1c5b4b6b.js" as="script"><link rel="prefetch" href="/studyLib/assets/003包管理工具.html-aea79c2b.js" as="script"><link rel="prefetch" href="/studyLib/assets/004Bundless.html-ee1d00f3.js" as="script"><link rel="prefetch" href="/studyLib/assets/005手写简单webpack.html-b669b110.js" as="script"><link rel="prefetch" href="/studyLib/assets/006模块化方案.html-1cb5a0fc.js" as="script"><link rel="prefetch" href="/studyLib/assets/007package和npm.html-f059a92c.js" as="script"><link rel="prefetch" href="/studyLib/assets/008前端质量保障.html-a2f1ba4f.js" as="script"><link rel="prefetch" href="/studyLib/assets/010rspack.html-bb5ff69e.js" as="script"><link rel="prefetch" href="/studyLib/assets/001CSS.html-d1d3362c.js" as="script"><link rel="prefetch" href="/studyLib/assets/002Browser.html-aaf69bf6.js" as="script"><link rel="prefetch" href="/studyLib/assets/003JS.html-deb0bda6.js" as="script"><link rel="prefetch" href="/studyLib/assets/005React.html-b6a0b20d.js" as="script"><link rel="prefetch" href="/studyLib/assets/006工程化.html-b5a145c3.js" as="script"><link rel="prefetch" href="/studyLib/assets/007Http.html-b5f4113b.js" as="script"><link rel="prefetch" href="/studyLib/assets/008算法.html-08a07cf3.js" as="script"><link rel="prefetch" href="/studyLib/assets/011前端调试.html-4aa4bd45.js" as="script"><link rel="prefetch" href="/studyLib/assets/012装饰器.html-b7656a34.js" as="script"><link rel="prefetch" href="/studyLib/assets/997面试题整理.html-fc44ed4d.js" as="script"><link rel="prefetch" href="/studyLib/assets/998HR面.html-d0fbcf2a.js" as="script"><link rel="prefetch" href="/studyLib/assets/999Other.html-82442ece.js" as="script"><link rel="prefetch" href="/studyLib/assets/001nestjs.html-88dfddd2.js" as="script"><link rel="prefetch" href="/studyLib/assets/002nestjs装饰器.html-c78d21e8.js" as="script"><link rel="prefetch" href="/studyLib/assets/003nestjs切换上下文.html-e7c74e97.js" as="script"><link rel="prefetch" href="/studyLib/assets/001React.html-63986f09.js" as="script"><link rel="prefetch" href="/studyLib/assets/001Vue.html-4cac51c8.js" as="script"><link rel="prefetch" href="/studyLib/assets/404.html-11fb8e97.js" as="script"><link rel="prefetch" href="/studyLib/assets/mermaid.core-d22b6d45.js" as="script"><link rel="prefetch" href="/studyLib/assets/markdown.esm-abe06b83.js" as="script"><link rel="prefetch" href="/studyLib/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/studyLib/assets/VuePlayground-eb9a6c49.js" as="script"><link rel="prefetch" href="/studyLib/assets/giscus-765fdce2.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/studyLib/" class=""><!----><span class="site-name">学习资源库</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/studyLib/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/studyLib/algorithm/001Sort.md" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/studyLib/LeetCode/001offer.md" class="" aria-label="LeetCode"><!--[--><!--]--> LeetCode <!--[--><!--]--></a></div><div class="navbar-item"><a href="/studyLib/engineering/001打包资源处理.md" class="" aria-label="工程化"><!--[--><!--]--> 工程化 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/studyLib/framework/vue/001Vue.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/studyLib/framework/react/001React.md" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/studyLib/framework/nestjs/001nestjs.md" class="" aria-label="NestJS"><!--[--><!--]--> NestJS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试"><span class="title">面试</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试"><span class="title">面试</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/studyLib/questions/001CSS.md" class="" aria-label="问题"><!--[--><!--]--> 问题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/studyLib/coding/001es.md" class="" aria-label="代码"><!--[--><!--]--> 代码 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/studyLib/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/studyLib/algorithm/001Sort.md" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/studyLib/LeetCode/001offer.md" class="" aria-label="LeetCode"><!--[--><!--]--> LeetCode <!--[--><!--]--></a></div><div class="navbar-item"><a href="/studyLib/engineering/001打包资源处理.md" class="" aria-label="工程化"><!--[--><!--]--> 工程化 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/studyLib/framework/vue/001Vue.md" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/studyLib/framework/react/001React.md" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/studyLib/framework/nestjs/001nestjs.md" class="" aria-label="NestJS"><!--[--><!--]--> NestJS <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试"><span class="title">面试</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试"><span class="title">面试</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/studyLib/questions/001CSS.md" class="" aria-label="问题"><!--[--><!--]--> 问题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/studyLib/coding/001es.md" class="" aria-label="代码"><!--[--><!--]--> 代码 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/studyLib/questions/001CSS.html" class="sidebar-item sidebar-heading" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/002Browser.html" class="sidebar-item sidebar-heading" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/003JS.html" class="sidebar-item sidebar-heading" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/studyLib/questions/004Vue.html#vue实现响应式的原理-美图" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue实现响应式的原理？（美图）"><!--[--><!--]--> Vue实现响应式的原理？（美图） <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/studyLib/questions/004Vue.html#响应式的监听" class="router-link-active router-link-exact-active sidebar-item" aria-label="响应式的监听"><!--[--><!--]--> 响应式的监听 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#响应式的依赖追踪" class="router-link-active router-link-exact-active sidebar-item" aria-label="响应式的依赖追踪"><!--[--><!--]--> 响应式的依赖追踪 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#watch和watcheffect的区别和关系-你会怎么用-作业帮" class="router-link-active router-link-exact-active sidebar-item" aria-label="watch和watchEffect的区别和关系，你会怎么用（作业帮）"><!--[--><!--]--> watch和watchEffect的区别和关系，你会怎么用（作业帮） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#vue-scoped的原理-百度" class="router-link-active router-link-exact-active sidebar-item" aria-label="vue-scoped的原理（百度）"><!--[--><!--]--> vue-scoped的原理（百度） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#vue2迁移到vue3" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue2迁移到Vue3"><!--[--><!--]--> Vue2迁移到Vue3 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/studyLib/questions/004Vue.html#全局api" class="router-link-active router-link-exact-active sidebar-item" aria-label="全局API"><!--[--><!--]--> 全局API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#模板指令" class="router-link-active router-link-exact-active sidebar-item" aria-label="模板指令"><!--[--><!--]--> 模板指令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#组件方面" class="router-link-active router-link-exact-active sidebar-item" aria-label="组件方面"><!--[--><!--]--> 组件方面 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#渲染函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="渲染函数"><!--[--><!--]--> 渲染函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#自定义元素" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义元素"><!--[--><!--]--> 自定义元素 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#移除api" class="router-link-active router-link-exact-active sidebar-item" aria-label="移除API"><!--[--><!--]--> 移除API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#其他一些小变化" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他一些小变化"><!--[--><!--]--> 其他一些小变化 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/studyLib/questions/004Vue.html#vue运行时都做了什么事-美团" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue运行时都做了什么事（美团）"><!--[--><!--]--> Vue运行时都做了什么事（美团） <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/studyLib/questions/005React.html" class="sidebar-item sidebar-heading" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/006%E5%B7%A5%E7%A8%8B%E5%8C%96.html" class="sidebar-item sidebar-heading" aria-label="工程化"><!--[--><!--]--> 工程化 <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/007Http.html" class="sidebar-item sidebar-heading" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/008%E7%AE%97%E6%B3%95.html" class="sidebar-item sidebar-heading" aria-label="/questions/008算法.md"><!--[--><!--]--> /questions/008算法.md <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/011%E5%89%8D%E7%AB%AF%E8%B0%83%E8%AF%95.html" class="sidebar-item sidebar-heading" aria-label="前端调试"><!--[--><!--]--> 前端调试 <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/012%E8%A3%85%E9%A5%B0%E5%99%A8.html" class="sidebar-item sidebar-heading" aria-label="装饰器"><!--[--><!--]--> 装饰器 <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/997%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86.html" class="sidebar-item sidebar-heading" aria-label="面经"><!--[--><!--]--> 面经 <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/998HR%E9%9D%A2.html" class="sidebar-item sidebar-heading" aria-label="HR面"><!--[--><!--]--> HR面 <!--[--><!--]--></a><!----></li><li><a href="/studyLib/questions/999Other.html" class="sidebar-item sidebar-heading" aria-label="其他"><!--[--><!--]--> 其他 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="vue" tabindex="-1"><a class="header-anchor" href="#vue" aria-hidden="true">#</a> Vue</h1><h2 id="vue实现响应式的原理-美图" tabindex="-1"><a class="header-anchor" href="#vue实现响应式的原理-美图" aria-hidden="true">#</a> Vue实现响应式的原理？（美图）</h2><h3 id="响应式的监听" tabindex="-1"><a class="header-anchor" href="#响应式的监听" aria-hidden="true">#</a> 响应式的监听</h3><p>不同于Vue2,Vue3中对于响应式做了升级，Vue2中主要使用Object.defineProperty的api来实现响应式，而Vue3中则主要依赖了ES6新增的Proxy和Reflect来实现响应式。在Vue2中我们使用Object.defineProperty是需要我们初始化时从上而下逐层遍历data中的每一个值的，而Vue3中则不需要这么做，Vue3只需要对最上层的一级进行代理即可，当访问到具体某个属性值时，再进一步的进行代理，这就大大减少了初始化时的开销和内存占用（因为构建依赖需要内存），再考虑到有些属性值可能根本不会访问到，这方面Vue2是没办法观察到的，而Vue3因为其按需构建响应式依赖的模式得以收益。此外Object.defineProperty返回的是对象本身，同时对数组对象API、Map、Set等Api支持并不好，而Proxy则是返回一个新的代理对象，同时能对各种Api的调用进行监听。值得一提的是，Vue2中为了支持数组的各种Api，对这些api都进行了重写，来达到响应式的效果。</p><h3 id="响应式的依赖追踪" tabindex="-1"><a class="header-anchor" href="#响应式的依赖追踪" aria-hidden="true">#</a> 响应式的依赖追踪</h3><p>接下来我们谈一下响应式的依赖追踪，Vue的响应式追踪采用了观察者模式，首先他准备了一个activeEffect的值，记录当前的副作用，然后当Vue发现有值读取的时候，他会建立这个值和当前副作用的依赖，通过这样一种数据结构。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> targetMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> KeyToDepMap<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> depsMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> keyToDeps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set<span class="token operator">&lt;</span>ReactiveEffect<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 用来收集effect</span>
targetMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> depsMap<span class="token punctuation">)</span> <span class="token comment">// 值 -&gt; effects</span>
keyToDeps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>activeEffect<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而Vue第一次收集依赖也就是组件渲染的时候，渲染这个组件的同时，是要读取这个组件上要显示的这些动态值的。完事我接着往下走，上面是依赖的追踪，还有依赖的触发，当我们通过set的时候其实已经被Proxy或者Object.defineProperty捕获到了，这个时候呢会将这些依赖放入副作用队列里，并调用flush函数，flush函数是干嘛的就是执行副作用队列的所有副作用，然后把他们都删除掉，当在执行flush函数的时候不允许你加入新的副作用，flush函数执行完后会触发nextTick钩子，告诉你上次修改数据所产生的的副作用已经修改完了</p><h2 id="watch和watcheffect的区别和关系-你会怎么用-作业帮" tabindex="-1"><a class="header-anchor" href="#watch和watcheffect的区别和关系-你会怎么用-作业帮" aria-hidden="true">#</a> watch和watchEffect的区别和关系，你会怎么用（作业帮）</h2><p>先从调用上说watch支持你传递三个参数，分别是依赖，回调和可选选项配置（包含了深拷贝，是否立即执行，pre、post执行等），watchEffect，则是一个副作用函数，一个选项，然后都返回cleanup清理函数。watch当依赖发生变化时，则会触发回调函数，而watchEffect则是在effect副作用被激活时收集依赖，当这些依赖发生改变时，再次触发执行effect。所以说watch你能够让你明确依赖和回调之间的关系，而watchEffect则让你不再关心依赖与回调的关系。如果让我选，我只会用watch，因为watchEffect可能会导致后续我不知道我要维护哪些关系，给我惹麻烦。再说内部，其实机制是一样的，都是生成副作用,然后通过调度器来手动执行副作用，但同时要在组件上维护一个作用域依赖，以便在销毁组件或者清理的时候清除</p><h2 id="vue-scoped的原理-百度" tabindex="-1"><a class="header-anchor" href="#vue-scoped的原理-百度" aria-hidden="true">#</a> vue-scoped的原理（百度）</h2><p>在Webpack中，通过各种loader，给组件的HTML模板上添加自定义属性，data-v-x以及给组件内的css选择器添加对应的属性选择器<code>[data-v-x]</code>来达到样式隔离的效果。vue-loader通过文件路径和源码生成hash值，使用template-loader来处理html上的属性，template-loader再调用@vue/component-compiler-uitls.compileTemplate函数处理，其实后面就是编译模板，通过词法解析语法解析将其解析成ast，然后transform静态模板与动态模板，generate生成JS函数</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// vue-loader/index.js</span>
<span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">hash</span><span class="token punctuation">(</span>isProduction <span class="token operator">?</span> <span class="token punctuation">(</span>shortFilePath <span class="token operator">+</span> <span class="token string">&#39;\n&#39;</span> <span class="token operator">+</span> source<span class="token punctuation">)</span> <span class="token operator">:</span> shortFilePath<span class="token punctuation">)</span>
<span class="token keyword">const</span> hasScoped <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>styles<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span>scoped<span class="token punctuation">)</span>
<span class="token keyword">const</span> query <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">? vue&amp;type=template</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>idQuery<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scopedQuery<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">const</span> request <span class="token operator">=</span> templateRequest <span class="token operator">=</span> <span class="token function">stringifyRequest</span><span class="token punctuation">(</span>src <span class="token operator">+</span> query<span class="token punctuation">)</span>
templateImport <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">import { render, staticRenderFns } from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>request<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// vue-loader/templateLoader.js</span>
<span class="token keyword">const</span> query <span class="token operator">=</span> qs<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resourceQuery<span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> query
<span class="token keyword">const</span> compilerOptions <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>compilerOptions<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">scopeId</span><span class="token operator">:</span> query<span class="token punctuation">.</span>scoped <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data-v-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> compiled <span class="token operator">=</span> <span class="token function">compileTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> compilerOptions <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>样式通过stylePostLoader处理，处理逻辑是使用@vue/component-compiler-utils.compileStyle部分,将作用域id加入选择器末尾</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>selectors<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">selector</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    selector<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;::v-deep&#39;</span> <span class="token operator">||</span> n<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;&gt;&gt;&gt;&#39;</span> <span class="token operator">||</span> n<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;/deep/&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    selector<span class="token punctuation">.</span><span class="token function">insertAfter</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> selectorParser<span class="token punctuation">.</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">attribute</span><span class="token operator">:</span> id
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当前处理时如果遇到三种特定情况，选择器会终止循环，停止添加data-v-xxx</p><ol><li>伪类 ::v-deep</li><li>选择器 &gt;&gt;&gt;</li><li>选择器 /deep/</li></ol><h2 id="vue2迁移到vue3" tabindex="-1"><a class="header-anchor" href="#vue2迁移到vue3" aria-hidden="true">#</a> Vue2迁移到Vue3</h2><p>从几个层面上看</p><h3 id="全局api" tabindex="-1"><a class="header-anchor" href="#全局api" aria-hidden="true">#</a> 全局API</h3><ol><li>全局配置通过应用实例去修改</li><li>全局和内部API经过重构,已经支持Tree Shaking</li></ol><h3 id="模板指令" tabindex="-1"><a class="header-anchor" href="#模板指令" aria-hidden="true">#</a> 模板指令</h3><ol><li>v-for和v-if优先级调整,同一层级,v-if优先</li><li>v-model指令重新设计,sync修饰符被废弃</li><li>在v-for中,key值应该被设置在template上,v-if/v-else/v-else-if不再需要key，或者需要唯一key</li><li>v-bind合并行为优先级修改，按顺序，vue2中v-bind总是先执行</li><li>v-on.native被移除</li></ol><h3 id="组件方面" tabindex="-1"><a class="header-anchor" href="#组件方面" aria-hidden="true">#</a> 组件方面</h3><ol><li>函数式组件必须是纯函数</li><li>异步组件使用defineAsyncComponent，隐式改为显示</li><li>任何未在 emits 中声明的事件监听器都会被算入组件的 $attrs，并将默认绑定到组件的根节点上。如果emits没有包含可能会导致事件触发两次</li></ol><h3 id="渲染函数" tabindex="-1"><a class="header-anchor" href="#渲染函数" aria-hidden="true">#</a> 渲染函数</h3><ol><li>渲染函数h变为全局的，可以从vue中执行引入</li><li>插槽this.<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mtext>现在将插槽作为函数公开。非兼容：移除</mtext><mi>t</mi><mi>h</mi><mi>i</mi><mi>s</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">slots 现在将插槽作为函数公开。非兼容：移除 this.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mord cjk_fallback">现在将插槽作为函数公开。非兼容：移除</span><span class="mord mathnormal">t</span><span class="mord mathnormal">hi</span><span class="mord mathnormal">s</span><span class="mord">.</span></span></span></span>scopedSlots（2.6已修改）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>e</mi><mi>r</mi><mi>s</mi><mtext>与</mtext></mrow><annotation encoding="application/x-tex">listeners与</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">ers</span><span class="mord cjk_fallback">与</span></span></span></span>attrs合并,没有emit的将合并到$attr中</li><li>$attrs中包含class和style</li></ol><h3 id="自定义元素" tabindex="-1"><a class="header-anchor" href="#自定义元素" aria-hidden="true">#</a> 自定义元素</h3><ol><li>自定义元素，旧使用Vue.config.ignoredElements ，新webpack配置，app.config.compileOptions配置</li><li>is,使用vue:前缀表示vue组件</li></ol><h3 id="移除api" tabindex="-1"><a class="header-anchor" href="#移除api" aria-hidden="true">#</a> 移除API</h3><ol><li>按键修饰符</li><li>事件API $on</li><li>过滤器</li><li>内联模板</li><li>$children</li><li>propsData选项</li></ol><h3 id="其他一些小变化" tabindex="-1"><a class="header-anchor" href="#其他一些小变化" aria-hidden="true">#</a> 其他一些小变化</h3><ol><li>attribute强制行为被移除</li><li>自定义指令钩子变为与现在一致</li><li>data现在只接受函数，mixins和extends只能浅合并</li><li>vue3中被渲染元素作为子元素插入</li><li>生成 prop 默认值的工厂函数不再能访问 this。然后原始prop会传递给他，并且可以在prop中inject</li><li>transition 类名修改</li><li>当使用 <code>&lt;transition&gt;</code> 作为根结点的组件从外部被切换时将不再触发过渡效果。</li><li><code>&lt;transition-group&gt;</code> 不再默认渲染根元素，但仍然可以用 tag attribute 创建根元素。</li><li>监听组件生命周期使用vue:,而不是hook:</li><li>watch监听数组时，必须用deep否则，只能监听到数组元素本身被替换</li></ol><h2 id="vue运行时都做了什么事-美团" tabindex="-1"><a class="header-anchor" href="#vue运行时都做了什么事-美团" aria-hidden="true">#</a> Vue运行时都做了什么事（美团）</h2><p>初始化app实例的全局配置，创建app实例全局上下文，创建根组件的虚拟节点，渲染根节点，渲染根节点执行render而也就是在执行patch，第一次patch时候，将直接挂载dom并且dom的虚拟节点树，在内部会调用mountComponent方法挂载组件，而在组件的内部又会使用setupComponent的方法，如果setup返回的不是对象而是函数就将该函数作为该组件的渲染函数赋值，如果预构建好了，那就使用预构建的模板的，否则使用compileDOM进行运行时的编译。并且建立好缓存机制，上次该值是从setup里取的还是data里取的还是props里取的，记录清晰，提高性能。建立响应式副作用，并令根组件的副作用域成为该响应式副作用的作用域，创建一个函数包括生命周期钩子的调用及对根组件的patch, 将该函数设置为副作用函数，将该副作用的函数的执行放入任务队列里（该队列为微任务队列）等待执行封装为一个函数放到调度机里，同时先执行一个遍这个函数让程序跑起来。当有数据发生变化时，触发beforeUpdate，然后进行patch，对于children节点的比较，采用diff算法，先比较头尾，头尾没有相同节点，则采用最长递增子序列，尽可能的固定住多的dom节点，减少dom操作。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/studyLib/questions/003JS.html" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></span><span class="next"><a href="/studyLib/questions/005React.html" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/studyLib/assets/app-72993491.js" defer></script>
  </body>
</html>
